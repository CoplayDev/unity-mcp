<ui:UXML xmlns:ui="UnityEngine.UIElements" xmlns:uie="UnityEditor.UIElements" editor-extension-mode="True">
    <Style src="Components/Common.uss" />
    <Style src="ActionTraceEditorWindow.uss" />

    <ui:VisualElement name="root-container" class="root-container">
        <!-- Top title bar -->
        <ui:VisualElement name="header-bar" class="header-bar">
            <ui:Label text="ActionTrace" class="window-title" />
            <ui:Label name="event-count-badge" class="event-count-badge" text="0" />
        </ui:VisualElement>

        <!-- Main toolbar - divided into three sections -->
        <uie:Toolbar name="toolbar" class="main-toolbar">
            <!-- Primary actions section -->
            <ui:VisualElement name="toolbar-primary" class="toolbar-primary">
                <uie:ToolbarSearchField name="search-field" class="search-field-expanded" />
                <uie:ToolbarMenu name="filter-menu" text="Filter" class="toolbar-menu-primary" />
                <uie:ToolbarMenu name="sort-menu" text="Sort" class="toolbar-menu-primary" />
            </ui:VisualElement>

            <uie:ToolbarSpacer flex="true" />

            <!-- Display options section -->
            <ui:VisualElement name="toolbar-display" class="toolbar-display">
                <uie:ToolbarToggle name="importance-toggle" text="Badges" class="display-toggle" />
                <ui:VisualElement name="auto-refresh-container" class="auto-refresh-container">
                    <ui:Label name="auto-refresh-label" text="Auto:" class="auto-refresh-label" />
                    <ui:Label name="auto-refresh-status" text="ON" class="auto-refresh-status" />
                </ui:VisualElement>
            </ui:VisualElement>

            <!-- Action buttons section -->
            <ui:VisualElement name="toolbar-actions" class="toolbar-actions">
                <uie:ToolbarButton name="settings-button" text="Settings" class="action-btn" />
                <uie:ToolbarButton name="refresh-button" text="Refresh" class="action-btn" />
                <uie:ToolbarButton name="clear-button" text="Clear" class="action-btn-danger" />
            </ui:VisualElement>
        </uie:Toolbar>

        <!-- Filter summary bar (optionally displayed) -->
        <ui:VisualElement name="filter-summary-bar" class="filter-summary-bar" style="display: none;">
            <ui:Label name="filter-summary-text" class="filter-summary-text" />
            <uie:ToolbarButton name="clear-filters-button" text="Close" class="clear-filters-btn" />
        </ui:VisualElement>

        <!-- Main content area - two-column layout -->
        <ui:VisualElement name="main-content" class="main-content">
            <!-- Left: Event timeline -->
            <ui:VisualElement name="event-list-container" class="event-list-container">
                <!-- Event list header -->
                <ui:VisualElement name="event-list-header" class="event-list-header">
                    <ui:Label text="Event Timeline" class="section-title" />
                    <ui:Label name="event-list-count" class="event-list-count" />
                </ui:VisualElement>

                <!-- Event list -->
                <ui:ListView name="event-list" class="event-list" />

                <!-- Empty state placeholder -->
                <ui:VisualElement name="empty-state" class="empty-state" style="display: none;">
                    <ui:VisualElement class="empty-state-icon">
                        <ui:Label text="ðŸ“‹" class="empty-state-emoji" />
                    </ui:VisualElement>
                    <ui:Label text="No Events Recorded Yet" class="empty-state-title" />
                    <ui:Label text="Start working in Unity Editor to automatically track your actions" class="empty-state-description" />
                    <ui:VisualElement class="empty-state-actions">
                        <uie:ToolbarButton name="empty-settings-button" text="Settings" class="empty-state-btn" />
                        <uie:ToolbarButton name="empty-refresh-button" text="Refresh" class="empty-state-btn" />
                    </ui:VisualElement>
                    <ui:Label text="Tip: ActionTrace captures asset changes, property edits, script compilation, and more" class="empty-state-tip" />
                </ui:VisualElement>

                <!-- No results state -->
                <ui:VisualElement name="no-results-state" class="no-results-state" style="display: none;">
                    <ui:VisualElement class="empty-state-icon">
                        <ui:Label text="ðŸ”" class="empty-state-emoji" />
                    </ui:VisualElement>
                    <ui:Label text="No Events Match Your Filter" class="empty-state-title" />
                    <ui:Label name="no-results-filters" class="no-results-filters" />
                    <ui:VisualElement class="empty-state-actions">
                        <uie:ToolbarButton name="clear-filters-button-2" text="Clear Filters" class="empty-state-btn" />
                    </ui:VisualElement>
                </ui:VisualElement>
            </ui:VisualElement>

            <!-- Right: Detail panel -->
            <ui:ScrollView name="detail-scroll-view" class="detail-scroll-view">
                <!-- Default placeholder hint -->
                <ui:Label text="Select an event to view details" class="detail-placeholder" name="detail-placeholder" />

                <!-- Detail content container (dynamically populated) -->
                <ui:VisualElement name="detail-content" class="detail-content" style="display: none;" />

                <!-- Detail action buttons -->
                <ui:VisualElement name="detail-actions" class="detail-actions" style="display: none;">
                    <uie:ToolbarButton name="copy-summary-button" text="Copy Summary" class="detail-action-btn" />
                </ui:VisualElement>
            </ui:ScrollView>
        </ui:VisualElement>

        <!-- Bottom status bar -->
        <ui:VisualElement name="status-bar" class="status-bar">
            <ui:VisualElement class="status-item">
                <ui:Label text="Events:" class="status-label" />
                <ui:Label name="count-label" class="status-value" />
            </ui:VisualElement>
            <ui:VisualElement class="status-item">
                <ui:Label text="Updated:" class="status-label" />
                <ui:Label name="status-label" class="status-value" />
            </ui:VisualElement>
            <ui:VisualElement class="status-item">
                <ui:Label text="Mode:" class="status-label" />
                <ui:Label name="mode-label" class="status-value" />
            </ui:VisualElement>
            <uie:ToolbarSpacer flex="true" />
            <ui:VisualElement class="status-item">
                <ui:Label name="refresh-indicator" class="refresh-indicator" text="ðŸ”„" />
            </ui:VisualElement>
        </ui:VisualElement>
    </ui:VisualElement>
</ui:UXML>
